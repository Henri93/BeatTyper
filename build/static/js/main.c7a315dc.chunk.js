(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(7),l=n(2),r=n(3),i=n(5),h=n(4),c=n(1),d=n(6),m=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(h.a)(t).call(this,e))).state={count:n.props.voteCount},n.handleUpVote=n.handleUpVote.bind(Object(c.a)(n)),n.handleDownVote=n.handleDownVote.bind(Object(c.a)(n)),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"handleUpVote",value:function(){var e=this.state.count;this.setState({count:e+1}),this.props.onVoteChange(e+1)}},{key:"handleDownVote",value:function(){var e=this.state.count,t=e-1<0?0:e-1;this.setState({count:t}),this.props.onVoteChange(t)}},{key:"render",value:function(){var e=this.state.count;return o.a.createElement("div",null,o.a.createElement("button",{type:"button",onClick:this.handleUpVote,className:"btn btn-success btn-sm"},"\u25b2"),o.a.createElement("strong",{className:"text-gray-dark"},e),o.a.createElement("button",{type:"button",onClick:this.handleDownVote,className:"btn btn-danger btn-sm"},"\u25bc"))}}]),t}(o.a.Component),u=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(h.a)(t).call(this,e))).state={nameHolder:"Name...",postContentHolder:"write something here",name:"",postContent:"",isEnabled:!1},n.handleNameChange=n.handleNameChange.bind(Object(c.a)(n)),n.handlePostChange=n.handlePostChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.renderSubmitButton=n.renderSubmitButton.bind(Object(c.a)(n)),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"handleNameChange",value:function(e){var t=e.target.value;""!==t&&""!==this.state.postContent?this.setState({isEnabled:!0}):this.setState({isEnabled:!1}),this.setState({name:t})}},{key:"handlePostChange",value:function(e){var t=e.target.value;""!==this.state.name&&""!==t?this.setState({isEnabled:!0}):this.setState({isEnabled:!1}),this.setState({postContent:t})}},{key:"handleSubmit",value:function(e){this.props.onPostSubmit(e,this.state.name,this.state.postContent),this.setState({name:"",postContent:""}),e.preventDefault()}},{key:"renderSubmitButton",value:function(){return this.state.isEnabled?o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Post"):o.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!0},"Post")}},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",name:"name",onChange:this.handleNameChange,placeholder:this.state.nameHolder,value:this.state.name})),o.a.createElement("div",{className:"form-group"},o.a.createElement("textarea",{className:"form-control",type:"text",name:"postContent",onChange:this.handlePostChange,placeholder:this.state.postContentHolder,value:this.state.postContent})),this.renderSubmitButton())}}]),t}(o.a.Component),p=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(h.a)(t).call(this,e))).state={showReplyForm:!1,depth:n.props.depth,replies:[]},n.handleReplySubmit=n.handleReplySubmit.bind(Object(c.a)(n)),n.handleVoteChange=n.handleVoteChange.bind(Object(c.a)(n)),n.handleReplyVoteChange=n.handleReplyVoteChange.bind(Object(c.a)(n)),n.handleReply=n.handleReply.bind(Object(c.a)(n)),n.renderReplyForm=n.renderReplyForm.bind(Object(c.a)(n)),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"handleVoteChange",value:function(e){this.props.onVoteChange(this.props.id,e)}},{key:"handleReplyVoteChange",value:function(e){console.log("vote changed to "+e+" for "+this.props.id)}},{key:"handleReplySubmit",value:function(e,t,n){this.state.depth+1>=3?alert("Cannot go past 3 levels of depth!"):(this.setState((function(e){return{replies:[].concat(Object(s.a)(e.replies),[{name:t,postContent:n,key:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),voteCount:0,depth:e.depth+1}])}})),this.setState({showReplyForm:!1}))}},{key:"handleReply",value:function(){var e=this.state.showReplyForm;this.setState({showReplyForm:!e})}},{key:"renderReplyForm",value:function(){return this.state.showReplyForm?o.a.createElement(u,{onPostSubmit:this.handleReplySubmit}):null}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"post"+this.state.depth+" my-3 p-3 bg-white rounded box-shadow"},o.a.createElement("div",{className:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center w-100"},o.a.createElement("strong",{className:"text-gray-dark"},this.props.name),o.a.createElement(m,{onVoteChange:this.handleVoteChange,voteCount:this.props.voteCount})),o.a.createElement("div",{className:"d-flex justify-content-between align-items-center w-100"},o.a.createElement("span",{className:"d-block"},this.props.postContent)),o.a.createElement("button",{type:"button",onClick:this.handleReply,className:"btn btn-link"},"Reply")),o.a.createElement("div",null,this.state.replies.map((function(n){return o.a.createElement(t,{key:n.key,id:n.key,depth:n.depth,name:n.name,postContent:n.postContent,voteCount:n.voteCount,onVoteChange:e.handleReplyVoteChange})}))),this.renderReplyForm())}}]),t}(o.a.Component),b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(h.a)(t).call(this,e))).state={posts:[]},n.handlePostSubmit=n.handlePostSubmit.bind(Object(c.a)(n)),n.handleVoteChange=n.handleVoteChange.bind(Object(c.a)(n)),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"handlePostSubmit",value:function(e,t,n){this.setState((function(e){return{posts:[].concat(Object(s.a)(e.posts),[{name:t,postContent:n,key:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),voteCount:0,depth:0}])}}))}},{key:"handleVoteChange",value:function(e,t){console.log("vote changed to "+t+" for "+e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"d-flex align-items-center p-3 my-3 bg-purple rounded box-shadow"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("h4",{className:"mb-0"},"New Post")),o.a.createElement("div",null,o.a.createElement(u,{onPostSubmit:this.handlePostSubmit}),o.a.createElement("div",{className:"posts"},this.state.posts.map((function(t){return o.a.createElement(p,{key:t.key,id:t.key,depth:t.depth,name:t.name,postContent:t.postContent,voteCount:t.voteCount,onVoteChange:e.handleVoteChange})}))))))}}]),t}(o.a.Component);n(11),t.default=function(){return o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"d-flex align-items-center p-3 my-3 bg-purple rounded box-shadow"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("h1",{className:"display-4"}," CIS 197 MEMEPAGE ")))),o.a.createElement(b,null))}},8:function(e,t,n){e.exports=n(12)}},[[8,1,2]]]);
//# sourceMappingURL=main.c7a315dc.chunk.js.map